<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Performance</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="school-name">
                <i class="fas fa-school"></i>
                <span>Primary School Management System</span>
            </div>
        </div>
    </header>
    <div class="nav-container">
        <nav class="sidebar">
            <ul class="sidebar-menu">
                <li><a th:href="@{/}"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
                <li><a th:href="@{/students}"><i class="fas fa-user-graduate"></i><span>Students</span></a></li>
                <li><a th:href="@{/teachers}"><i class="fas fa-chalkboard-teacher"></i><span>Teachers</span></a></li>
                <li><a th:href="@{/classes}"><i class="fas fa-door-open"></i><span>Classes</span></a></li>
                <li><a th:href="@{/subjects}"><i class="fas fa-book"></i><span>Subjects</span></a></li>
                <li><a th:href="@{/performance}" class="active"><i class="fas fa-chart-line"></i><span>Performance</span></a></li>
                <li><a th:href="@{/reports}"><i class="fas fa-file-alt"></i><span>Reports</span></a></li>
            </ul>
        </nav>
        <main class="main-content">
            <div class="container">
                <div class="page-header">
                    <h1 class="page-title">Performance Management</h1>
                </div>
                
                <!-- Selection Form for Enter Marks -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h2><i class="fas fa-edit"></i> Enter Marks</h2>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/performance/entry}" method="get" class="form-horizontal">
                            <div class="form-group">
                                <label for="classId" class="form-label">Select Class:</label>
                                <select id="classId" name="classId" class="form-control" required>
                                    <option value="">-- Select Class --</option>
                                    <option th:each="cls : ${classes}" th:value="${cls.id}" th:text="${cls.className}"></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="term" class="form-label">Select Term:</label>
                                <select id="term" name="term" class="form-control" required>
                                    <option value="Term 1">Term 1</option>
                                    <option value="Term 2">Term 2</option>
                                    <option value="Term 3">Term 3</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="year" class="form-label">Select Year:</label>
                                <select id="year" name="year" class="form-control" required>
                                    <option th:each="yr : ${years}" th:value="${yr}" th:text="${yr}" th:selected="${yr == currentYear}"></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-edit"></i> Enter Marks
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Selection Form for View Marks -->
                <div class="card">
                    <div class="card-header">
                        <h2><i class="fas fa-eye"></i> View Marks</h2>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/performance/view}" method="get" class="form-horizontal">
                            <div class="form-group">
                                <label for="viewClassId" class="form-label">Select Class:</label>
                                <select id="viewClassId" name="classId" class="form-control" required>
                                    <option value="">-- Select Class --</option>
                                    <option th:each="cls : ${classes}" th:value="${cls.id}" th:text="${cls.className}"></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="viewTerm" class="form-label">Select Term:</label>
                                <select id="viewTerm" name="term" class="form-control" required>
                                    <option value="Term 1">Term 1</option>
                                    <option value="Term 2">Term 2</option>
                                    <option value="Term 3">Term 3</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="viewYear" class="form-label">Select Year:</label>
                                <select id="viewYear" name="year" class="form-control" required>
                                    <option th:each="yr : ${years}" th:value="${yr}" th:text="${yr}" th:selected="${yr == currentYear}"></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-info">
                                    <i class="fas fa-eye"></i> View Marks
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="stats-grid mt-4">
                    <div class="stat-card">
                        <i class="fas fa-list-alt stat-icon"></i>
                        <div class="stat-info">
                            <h3>Class Performance</h3>
                            <p>View class results</p>
                            <form th:action="@{/performance/class}" method="get" class="mt-2">
                                <div class="form-row">
                                    <div class="form-group" style="margin-bottom: 5px;">
                                        <select name="classId" class="form-control" required style="padding: 5px; font-size: 12px;">
                                            <option value="">-- Select Class --</option>
                                            <option th:each="cls : ${classes}" th:value="${cls.id}" th:text="${cls.className}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group" style="margin-bottom: 5px;">
                                        <select name="term" class="form-control" required style="padding: 5px; font-size: 12px;">
                                            <option value="Term 1">Term 1</option>
                                            <option value="Term 2">Term 2</option>
                                            <option value="Term 3">Term 3</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group" style="margin-bottom: 5px;">
                                        <select name="year" class="form-control" required style="padding: 5px; font-size: 12px;">
                                            <option th:each="yr : ${years}" th:value="${yr}" th:text="${yr}" th:selected="${yr == currentYear}"></option>
                                        </select>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary btn-sm" style="margin-top: 5px;">
                                    <i class="fas fa-eye"></i> View Class
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <footer class="footer">
        <p>&copy; 2026 Primary School Management System. All Rights Reserved.</p>
    </footer>
</body>
</html>
